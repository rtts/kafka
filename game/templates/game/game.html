{% extends 'game/base.html' %}

{% block content %}
  {% if screen.type.background_image %}
    <img class="background" src="{{screen.type.background_image.url}}">
  {% endif %}

  <div class="gradient"></div>

  <form method="post">
    {% csrf_token %}
    <div class="header">
      <h1>{{screen.title}}</h1>
    </div>

    <div class="screen">
      {% if screen.type.type == 10 %}
        {% for route in routes %}
          <label for="id_{{route.pk}}"><input type="radio" name="route" value="{{route.pk}}" id="id_{{route.pk}}">
            {{route.name}}
          </label><br>
        {% endfor %}
      {% endif %}

      {% if screen.type.type == 50 %}
        {% for message in screen.messages.all %}
          <div class="message {% if message.received %}received{% endif %}">
            {{message|safe}}
          </div>
        {% endfor %}
      {% endif %}
    </div>

    <input type="submit" value="Verder" class="fancy">
  </form>

{% endblock %}

{% block extrabody %}
  <script>
    function show_gradient() {
        section = document.getElementById('scroll');
        if (section.scrollHeight > section.offsetHeight) {
            $('div.gradient').show();
        } else {
            $('div.gradient').hide();
        }
    }

    $(function() {
        $(window).on('resize', show_gradient);
        show_gradient();
    });

  </script>
{% endblock %}
