{% extends 'game/base.html' %}

{% block content %}
  <div class="gradient"></div>

  <form method="post" style="background-color: {{background_color}}; background-image: url({{background_image}})">
    {% csrf_token %}
    <div class="header">
      <h1 style="background-color: {{foreground_color}}">{{screen.title}}</h1>
    </div>

    <div class="screen">
      {% if screen.type.type == 10 %}
        {% for route in routes %}
          <button style="background-color: {{foreground_color}}" type="submit" name="route" value="{{route.pk}}">{{route.name}}</button><br>
        {% endfor %}
      {% endif %}

      {% if screen.type.type == 50 %}
        {% for message in screen.messages.all %}
          <div class="message {% if message.received %}received{% endif %}">
            {{message|safe}}
          </div>
        {% endfor %}
      {% endif %}
    </div>

    {% if not screen.type.type == 10 %}
      <div class="next">
        <input type="submit" value="Verder" class="fancy">
      </div>
    {% endif %}
  </form>

{% endblock %}

{% block extrabody %}
  <script>
    function show_gradient() {
        section = document.getElementById('scroll');
        if (section.scrollHeight > section.offsetHeight) {
            $('div.gradient').show();
        } else {
            $('div.gradient').hide();
        }
    }

    $(function() {
        $(window).on('resize', show_gradient);
        show_gradient();
    });

  </script>
{% endblock %}
